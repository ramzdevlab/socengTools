{"version":3,"sources":["main.js"],"names":["endpoint","geturl","url","document","getElementById","value","protocol_ok","startsWith","newurl","getrandom","text","possible","i","charAt","Math","floor","random","length","genhash","window","location","hash","send_request","$","ajax","substr","JSON","stringify","shorturl","longurl","hashh","getJSON","data","href"],"mappings":";;AAAA,IAAIA,QAAQ,GAAG,2FAAf;;AAEA,SAASC,MAAT,GAAkB;AACd,MAAIC,GAAG,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAA9C;AACA,MAAIC,WAAW,GAAGJ,GAAG,CAACK,UAAJ,CAAe,SAAf,KAA6BL,GAAG,CAACK,UAAJ,CAAe,UAAf,CAA7B,IAA2DL,GAAG,CAACK,UAAJ,CAAe,QAAf,CAA7E;;AACA,MAAI,CAACD,WAAL,EAAkB;AACdE,IAAAA,MAAM,GAAG,YAAYN,GAArB;AACA,WAAOM,MAAP;AACH,GAHD,MAGO;AACH,WAAON,GAAP;AACH;AACJ;;AAED,SAASO,SAAT,GAAqB;AACjB,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,QAAQ,GAAG,gEAAf;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB;AACIF,IAAAA,IAAI,IAAIC,QAAQ,CAACE,MAAT,CAAgBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBL,QAAQ,CAACM,MAApC,CAAhB,CAAR;AADJ;;AAEA,SAAOP,IAAP;AACH;;AAED,SAASQ,OAAT,GAAmB;AACf,MAAIC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,IAAwB,EAA5B,EAAgC;AAC5BF,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBZ,SAAS,EAAhC;AACH;AACJ;;AAED,SAASa,YAAT,CAAsBpB,GAAtB,EAA2B;AACvB,OAAKA,GAAL,GAAWA,GAAX;AACAqB,EAAAA,CAAC,CAACC,IAAF,CAAO;AACH,WAAOxB,QAAQ,GAAG,GAAX,GAAiBmB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBI,MAArB,CAA4B,CAA5B,CADrB;AAEH,YAAQ,MAFL;AAGH,YAAQC,IAAI,CAACC,SAAL,CAAe,KAAKzB,GAApB,CAHL;AAIH,gBAAY,MAJT;AAKH,mBAAe;AALZ,GAAP;AAOH;;AAED,SAAS0B,QAAT,GAAoB;AAChB,MAAIC,OAAO,GAAG5B,MAAM,EAApB;AACAiB,EAAAA,OAAO;AACPI,EAAAA,YAAY,CAACO,OAAD,CAAZ;AACH;;AAED,IAAIC,KAAK,GAAGX,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBI,MAArB,CAA4B,CAA5B,CAAZ;;AAEA,IAAIN,MAAM,CAACC,QAAP,CAAgBC,IAAhB,IAAwB,EAA5B,EAAgC;AAC5BE,EAAAA,CAAC,CAACQ,OAAF,CAAU/B,QAAQ,GAAG,GAAX,GAAiB8B,KAA3B,EAAkC,UAASE,IAAT,EAAe;AAC7CA,IAAAA,IAAI,GAAGA,IAAI,CAAC,QAAD,CAAX;;AAEA,QAAIA,IAAI,IAAI,IAAZ,EAAkB;AACdb,MAAAA,MAAM,CAACC,QAAP,CAAgBa,IAAhB,GAAuBD,IAAvB;AACH;AAEJ,GAPD;AAQH","sourcesContent":["var endpoint = \"https://www.jsonstore.io/8ba4fd855086288421f770482e372ccb5a05d906269a34da5884f39eed0418a1\";\r\n\r\nfunction geturl() {\r\n    var url = document.getElementById(\"urlinput\").value;\r\n    var protocol_ok = url.startsWith(\"http://\") || url.startsWith(\"https://\") || url.startsWith(\"ftp://\");\r\n    if (!protocol_ok) {\r\n        newurl = \"http://\" + url;\r\n        return newurl;\r\n    } else {\r\n        return url;\r\n    }\r\n}\r\n\r\nfunction getrandom() {\r\n    var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n    for (var i = 0; i < 5; i++)\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    return text;\r\n}\r\n\r\nfunction genhash() {\r\n    if (window.location.hash == \"\") {\r\n        window.location.hash = getrandom();\r\n    }\r\n}\r\n\r\nfunction send_request(url) {\r\n    this.url = url;\r\n    $.ajax({\r\n        'url': endpoint + \"/\" + window.location.hash.substr(1),\r\n        'type': 'POST',\r\n        'data': JSON.stringify(this.url),\r\n        'dataType': 'json',\r\n        'contentType': 'application/json; charset=utf-8'\r\n    })\r\n}\r\n\r\nfunction shorturl() {\r\n    var longurl = geturl();\r\n    genhash();\r\n    send_request(longurl);\r\n}\r\n\r\nvar hashh = window.location.hash.substr(1)\r\n\r\nif (window.location.hash != \"\") {\r\n    $.getJSON(endpoint + \"/\" + hashh, function(data) {\r\n        data = data[\"result\"];\r\n\r\n        if (data != null) {\r\n            window.location.href = data;\r\n        }\r\n\r\n    });\r\n}"],"file":"main.dev.js"}