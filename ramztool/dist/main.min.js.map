{"version":3,"sources":["main.js"],"names":["endpoint","url","document","getElementById","value","startsWith","protocol_ok","newurl","getrandom","text","possible","i","charAt","Math","floor","random","length","genhash","window","location","hash","$","ajax","substr","type","data","send_request","stringify","this","contentType","shorturl","longurl","geturl","hashh","getJSON","href"],"mappings":"aAAA,IAAIA,SAAW,4FAAf,SAAIA,SAGA,IAAIC,EAAMC,SAASC,eAAe,YAAYC,MAA9C,OADcH,EAAAI,WAAA,YAAAJ,EAAAI,WAAA,aAAAJ,EAAAI,WAAA,UAIDJ,GAFTK,OAAW,UAAOD,EAGXE,QAGV,SAAAC,YAID,IAHH,IAAAC,EAAA,GAIOC,EAAW,iEADJC,EAAX,EAAAA,EAAA,EAAAA,IACID,GAAQA,EAAGE,OAAAC,KAAAC,MAAAD,KAAAE,SAAAL,EAAAM,SAIf,OAAOP,EAFP,SAAAQ,UAM4B,IAAxBC,OAAOC,SAASC,OAJpBF,OAAAC,SAAAC,KAAAZ,aAIA,SAAIU,aAAgBE,GAChBF,KAAAA,IAAOC,EACVE,EAAAC,KAAA,CACJrB,IAAAD,SAAA,IAAAkB,OAAAC,SAAAC,KAAAG,OAAA,GAMOC,KAAQ,OAJhBC,KAASC,KAATC,UAA2BC,KAAA3B,KAClBA,SAAL,OACA4B,YAAO,oCAIH,SAAAC,WACA,IAAAC,EAAAC,SALJf,UAOHS,aAAAK,GAGG,IAAAE,MAAIF,OAAUC,SAAdZ,KAAAG,OAAA,GAEA,IAAAG,OAAAA,SAAaK,MAChBV,EAAAa,QAAAlC,SAAA,IAAAiC,MAAA,SAAAR,GAQmB,OAFZA,EAAOA,EAAI,UAFRN,OAAPA,SAAwBgB,KAAIV","file":"main.min.js","sourcesContent":["var endpoint = \"https://www.jsonstore.io/8ba4fd855086288421f770482e372ccb5a05d906269a34da5884f39eed0418a1\";\r\n\r\nfunction geturl() {\r\n    var url = document.getElementById(\"urlinput\").value;\r\n    var protocol_ok = url.startsWith(\"http://\") || url.startsWith(\"https://\") || url.startsWith(\"ftp://\");\r\n    if (!protocol_ok) {\r\n        newurl = \"http://\" + url;\r\n        return newurl;\r\n    } else {\r\n        return url;\r\n    }\r\n}\r\n\r\nfunction getrandom() {\r\n    var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n    for (var i = 0; i < 5; i++)\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    return text;\r\n}\r\n\r\nfunction genhash() {\r\n    if (window.location.hash == \"\") {\r\n        window.location.hash = getrandom();\r\n    }\r\n}\r\n\r\nfunction send_request(url) {\r\n    this.url = url;\r\n    $.ajax({\r\n        'url': endpoint + \"/\" + window.location.hash.substr(1),\r\n        'type': 'POST',\r\n        'data': JSON.stringify(this.url),\r\n        'dataType': 'json',\r\n        'contentType': 'application/json; charset=utf-8'\r\n    })\r\n}\r\n\r\nfunction shorturl() {\r\n    var longurl = geturl();\r\n    genhash();\r\n    send_request(longurl);\r\n}\r\n\r\nvar hashh = window.location.hash.substr(1)\r\n\r\nif (window.location.hash != \"\") {\r\n    $.getJSON(endpoint + \"/\" + hashh, function(data) {\r\n        data = data[\"result\"];\r\n\r\n        if (data != null) {\r\n            window.location.href = data;\r\n        }\r\n\r\n    });\r\n}"]}